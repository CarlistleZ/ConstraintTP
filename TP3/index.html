<!DOCTYPE html>
<html>
<head>
	<title>Compte Rendu TP3</title>
	<meta charset="UTF-8">
</head>
<body>
	<h1>Compte Rendu TP3</h1>
	<!-- -----------Q1--------------- -->
	<div>
		<h2>Question1</h2>
		<pre>
			<code>
taches(Taches):-
    Taches = [](tache(3, [],m1, _),
    tache(8, [],m1, _),
    tache(8, [4,5],  m1, _),
    tache(6, [],m2, _),
    tache(3, [1],m2, _),
    tache(4, [1,7],  m1, _),
    tache(8, [3,5],  m1, _),
    tache(6, [4],m2, _),
    tache(6, [6,7],  m2, _),
    tache(6, [9,12], m2, _),
    tache(3, [1],m2, _),
    tache(6, [7,8],  m2, _)).
			</code>
		</pre>

        <h3>Test</h3>
        <pre>
            <code>
[eclipse 2]: taches(T).

T = [](tache(3, [], m1, _181), tache(8, [], m1, _186), tache(8, [4, 5], m1, _191), tache(6, [], m2, _200), tache(3, [1], m2, _205), tache(4, [1, 7], m1, _212), tache(8, [3, 5], m1, _221), tache(6, [4], m2, _230), tache(6, [6, 7], m2, _237), tache(6, [9, 12], m2, _246), tache(3, [1], m2, _255), tache(6, [7, 8], m2, _262))
Yes (0.00s cpu)

            </code>
        </pre>
	</div>

	   <!-- -----------Q2--------------- -->
    <div>
        <h2>Question2</h2>
        <pre>
            <code>
ecrit_taches(Taches):-
    dim(Taches,Dim),
    D is Dim[1],
    (for(I,1,D),
    param(Taches)
    do
        Var is Taches[I],
        writeln(Var)
    ).
            </code>
        </pre>

        <h3>Test</h3>
        <pre>
            <code>
taches(Taches),ecrit_taches(Taches).
[eclipse 3]: taches(Taches),ecrit_taches(Taches).
tache(3, [], m1, _243)
tache(8, [], m1, _248)
tache(8, [4, 5], m1, _253)
tache(6, [], m2, _262)
tache(3, [1], m2, _267)
tache(4, [1, 7], m1, _274)
tache(8, [3, 5], m1, _283)
tache(6, [4], m2, _292)
tache(6, [6, 7], m2, _299)
tache(6, [9, 12], m2, _308)
tache(3, [1], m2, _317)
tache(6, [7, 8], m2, _324)

Taches = [](tache(3, [], m1, _243), tache(8, [], m1, _248), tache(8, [4, 5], m1, _253), tache(6, [], m2, _262), tache(3, [1], m2, _267), tache(4, [1, 7], m1, _274), tache(8, [3, 5], m1, _283), tache(6, [4], m2, _292), tache(6, [6, 7], m2, _299), tache(6, [9, 12], m2, _308), tache(3, [1], m2, _317), tache(6, [7, 8], m2, _324))
Yes (0.00s cpu)

            </code>
        </pre>
    </div>



    <!-- -----------Q3--------------- -->
    <div>
        <h2>Question3</h2>
        <pre>
            <code>
domaines(Taches,Fin):-
    dim(Taches,Dim),
    D is Dim[1],
    (for(I,1,D),
    param(Taches,Fin)
    do
        tache(_, _ ,M, D) is Taches[I],
        M&::machine,
        D#>=0,
        D#=&lt;Fin
    ).
            </code>
        </pre>

        <h3>Test</h3>
        <pre>
            <code>
[eclipse 4]: taches(Taches),domaines(Taches,5).

Taches = [](tache(3, [], m1, _439{0 .. 5}), tache(8, [], m1, _576{0 .. 5}), tache(8, [4, 5], m1, _713{0 .. 5}), tache(6, [], m2, _850{0 .. 5}), tache(3, [1], m2, _987{0 .. 5}), tache(4, [1, 7], m1, _1124{0 .. 5}), tache(8, [3, 5], m1, _1261{0 .. 5}), tache(6, [4], m2, _1398{0 .. 5}), tache(6, [6, 7], m2, _1535{0 .. 5}), tache(6, [9, 12], m2, _1672{0 .. 5}), tache(3, [1], m2, _1809{0 .. 5}), tache(6, [7, 8], m2, _1946{0 .. 5}))
Yes (0.00s cpu)

            </code>
        </pre>
    </div>



    <!-- -----------Q4--------------- -->
    <div>
        <h2>Question4</h2>
        <pre>
            <code>
getVarList(Taches,Fin,[Fin|Liste]):-
    dim(Taches,Dim),
    D is Dim[1],
    (for(I,1,D),
    param(Taches),
    fromto([],In,Out,Liste)
    do
        tache(_, _, Machine, Debut) is Taches[I],
        Out = [Debut|In]
    ).
            </code>
        </pre>

        <h3>Test</h3>
        <pre>
            <code>
[eclipse 5]: taches(Taches),domaines(Taches,5),getVarList(Taches,5,List).

Taches = [](tache(3, [], m1, _513{0 .. 5}), tache(8, [], m1, _650{0 .. 5}), tache(8, [4, 5], m1, _787{0 .. 5}), tache(6, [], m2, _924{0 .. 5}), tache(3, [1], m2, _1061{0 .. 5}), tache(4, [1, 7], m1, _1198{0 .. 5}), tache(8, [3, 5], m1, _1335{0 .. 5}), tache(6, [4], m2, _1472{0 .. 5}), tache(6, [6, 7], m2, _1609{0 .. 5}), tache(6, [9, 12], m2, _1746{0 .. 5}), tache(3, [1], m2, _1883{0 .. 5}), tache(6, [7, 8], m2, _2020{0 .. 5}))
List = [5, _2020{0 .. 5}, _1883{0 .. 5}, _1746{0 .. 5}, _1609{0 .. 5}, _1472{0 .. 5}, _1335{0 .. 5}, _1198{0 .. 5}, _1061{0 .. 5}, _924{0 .. 5}, _787{0 .. 5}, _650{0 .. 5}, _513{0 .. 5}]
Yes (0.00s cpu)

            </code>
        </pre>
    </div>



    <!-- -----------Q5--------------- -->
    <div>
        <h2>Question5</h2>
        <pre>
            <code>
solve(Taches,Fin):-
    taches(Taches),
    FinTotal = 0,
    domaines(Taches,Fin),
    precedences(Taches),
    conflicts(Taches),
    getVarList(Taches,Fin,Liste),
    labeling(Liste),
    ecrit_taches(Taches).
            </code>
        </pre>

        <h3>Test</h3>
        <pre>
            <code>
[eclipse 6]: taches(Taches),solve(Taches,Fin).
lists.eco  loaded in 0.00 seconds
tache(3, [], m1, 0)
tache(8, [], m1, 0)
tache(8, [4, 5], m1, 6)
tache(6, [], m2, 0)
tache(3, [1], m2, 3)
tache(4, [1, 7], m1, 22)
tache(8, [3, 5], m1, 14)
tache(6, [4], m2, 6)
tache(6, [6, 7], m2, 26)
tache(6, [9, 12], m2, 32)
tache(3, [1], m2, 3)
tache(6, [7, 8], m2, 22)

Taches = [](tache(3, [], m1, 0), tache(8, [], m1, 0), tache(8, [4, 5], m1, 6), tache(6, [], m2, 0), tache(3, [1], m2, 3), tache(4, [1, 7], m1, 22), tache(8, [3, 5], m1, 14), tache(6, [4], m2, 6), tache(6, [6, 7], m2, 26), tache(6, [9, 12], m2, 32), tache(3, [1], m2, 3), tache(6, [7, 8], m2, 22))
Fin = 32

            </code>
        </pre>
    </div>

    <!-- -----------Q6--------------- -->
    <div>
        <h2>Question6</h2>
        <pre>
            <code>
precedences(Taches):-
    dim(Taches,Dim),
    D is Dim[1],
    (for(I,1,D),
    param(Taches)
    do
        tache(_, Noms,_, Debut) is Taches[I],
        (foreach(Nom,Noms),
        param(Taches,Debut)
        do
            tache(DureePrec, _, _, DebutPrec) is Taches[Nom],
            Debut#>= DureePrec+DebutPrec
        )
    ).
            </code>
        </pre>

        <h3>Test</h3>
        <pre>
            <code>
[eclipse 7]: taches(Taches),solve(Taches,Fin).
tache(3, [], m1, 0)
tache(8, [], m1, 0)
tache(8, [4, 5], m1, 6)
tache(6, [], m2, 0)
tache(3, [1], m2, 3)
tache(4, [1, 7], m1, 22)
tache(8, [3, 5], m1, 14)
tache(6, [4], m2, 6)
tache(6, [6, 7], m2, 26)
tache(6, [9, 12], m2, 32)
tache(3, [1], m2, 3)
tache(6, [7, 8], m2, 22)

Taches = [](tache(3, [], m1, 0), tache(8, [], m1, 0), tache(8, [4, 5], m1, 6), tache(6, [], m2, 0), tache(3, [1], m2, 3), tache(4, [1, 7], m1, 22), tache(8, [3, 5], m1, 14), tache(6, [4], m2, 6), tache(6, [6, 7], m2, 26), tache(6, [9, 12], m2, 32), tache(3, [1], m2, 3), tache(6, [7, 8], m2, 22))
Fin = 32


            </code>
        </pre>
    </div>

        <!-- -----------Q7--------------- -->
    <div>
        <h2>Question7</h2>
        <pre>
            <code>
conflicts(Taches):-
    dim(Taches,Dim),
    D is Dim[1],
    (for(I,1,D),
    param(Taches,D)
    do
        tache(Duree, _, Machine, Debut) is Taches[I],
        I2 is I+1,
        (for(J,I2,D),
        param(Taches,Debut,Duree)
        do
            tache(Duree2, _, Machine2, Debut2) is Taches[J],
            (Machine &\= Machine2) => ((Debut#>=Debut2+Duree2) or (Debut+Duree#=&gt;Debut2))
        )
    ).
            </code>
        </pre>

        <h3>Test</h3>
        <pre>
            <code>
[eclipse 10]: taches(T),conflicts(T).

T = [](tache(3, [], m1, _1336{-1.0Inf .. 1.0Inf}), tache(8, [], m1, _1319{-1.0Inf .. 1.0Inf}), tache(8, [4, 5], m1, _2557{-1.0Inf .. 1.0Inf}), tache(6, [], m2, _3778{-1.0Inf .. 1.0Inf}), tache(3, [1], m2, _4999{-1.0Inf .. 1.0Inf}), tache(4, [1, 7], m1, _6220{-1.0Inf .. 1.0Inf}), tache(8, [3, 5], m1, _7441{-1.0Inf .. 1.0Inf}), tache(6, [4], m2, _8662{-1.0Inf .. 1.0Inf}), tache(6, [6, 7], m2, _9883{-1.0Inf .. 1.0Inf}), tache(6, [9, 12], m2, _11104{-1.0Inf .. 1.0Inf}), tache(3, [1], m2, _12325{-1.0Inf .. 1.0Inf}), tache(6, [7, 8], m2, _13546{-1.0Inf .. 1.0Inf}))


            </code>
        </pre>
    </div>
    <h3>Test</h3>
        <pre>
            <code>
[eclipse 20]: solve(Taches,Fin).
tache(3, [], m1, 0)
tache(8, [], m1, 0)
tache(8, [4, 5], m1, 6)
tache(6, [], m2, 0)
tache(3, [1], m2, 3)
tache(4, [1, 7], m1, 22)
tache(8, [3, 5], m1, 14)
tache(6, [4], m2, 6)
tache(6, [6, 7], m2, 26)
tache(6, [9, 12], m2, 32)
tache(3, [1], m2, 3)
tache(6, [7, 8], m2, 22)

Taches = [](tache(3, [], m1, 0), tache(8, [], m1, 0), tache(8, [4, 5], m1, 6), tache(6, [], m2, 0), tache(3, [1], m2, 3), tache(4, [1, 7], m1, 22), tache(8, [3, 5], m1, 14), tache(6, [4], m2, 6), tache(6, [6, 7], m2, 26), tache(6, [9, 12], m2, 32), tache(3, [1], m2, 3), tache(6, [7, 8], m2, 22))
Fin = 38
Yes (0.01s cpu, solution 1, maybe more) ? 
            </code>
        </pre>
        <h2>Question 8</h2>
        <pre>
            <code>
[eclipse 36]: solve(Taches,Fin).
tache(3, [], m1, 0)
tache(8, [], m1, 29)
tache(8, [4, 5], m1, 9)
tache(6, [], m2, 0)
tache(3, [1], m2, 6)
tache(4, [1, 7], m1, 25)
tache(8, [3, 5], m1, 17)
tache(6, [4], m2, 12)
tache(6, [6, 7], m2, 31)
tache(6, [9, 12], m2, 37)
tache(3, [1], m2, 9)
tache(6, [7, 8], m2, 25)

Taches = [](tache(3, [], m1, 0), tache(8, [], m1, 29), tache(8, [4, 5], m1, 9), tache(6, [], m2, 0), tache(3, [1], m2, 6), tache(4, [1, 7], m1, 25), tache(8, [3, 5], m1, 17), tache(6, [4], m2, 12), tache(6, [6, 7], m2, 31), tache(6, [9, 12], m2, 37), tache(3, [1], m2, 9), tache(6, [7, 8], m2, 25))
Fin = 43
Yes (0.02s cpu, solution 1, maybe more) ? 
[eclipse 37]: Fin#&lt;43,solve(Taches,Fin).

No (0.01s cpu)
            </code>
        </pre>
        <p>
            La première solution offerte se finit en 43 unités de temps, par conséquent nous cherchons une solution qui se finit en moins de temps que celle-ci, 
            puisque nous n'en trouvons pas, nous savons que nous avons la plus rapide
        </p>
</body>
</html>






